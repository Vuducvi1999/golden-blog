

<%current_rate_score = current_user.get_rate_with(@post).score.to_i%>
<%not_rate_score = 5 - current_rate_score%>

for (let i=1; i<=5;i++){
  $(`#score-${i}`).click(()=>{
    $(`#score-field`).val(i)
    $(`#submit-rating`).click()
  })
  $(`#score-${i}`).hover(
    (over)=>{
      for(let j=1; j<=i; j++)
        $(`#score-${j}`).addClass('text-warning')
      for(let j=i+1; j<= 5; j++)
        $(`#score-${j}`).removeClass('text-warning')
    },
    (out)=>{
      for(let j=1; j<=<%=current_rate_score%>;j++)
          $(`#score-${j}`).addClass('text-warning')      
      for(let j=<%=current_rate_score%>+1; j<=5;j++)
          $(`#score-${j}`).removeClass('text-warning')      

      
    }
  )
}

